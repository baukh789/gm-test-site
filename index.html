<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GridManager demo</title>
    <link type="image/x-icon" href="/baukh.ico" rel="icon">
    <style type="text/css">
        .demo-loading{
            height: 100%;
            line-height: 100vh;
            text-align: center;
        }
        .demo-area {
            display: none;
            width: 100%;
            height: 400px;
            perspective: 800px;
        }

        .demo1{
            width: 500px;
            height: 250px;
            margin: 200px auto auto auto;
            transform-style: preserve-3d;
            transition: transform 1000ms;
            transform: rotateX(2deg);
        }
        .demo1 .page{
            width: 500px;
            height: 250px;
            position: absolute;
            backface-visibility: visible;
            opacity: 0.5;
            border: 1px solid #B8B5B5;
            background-repeat: no-repeat;
        }
        .demo1:hover{
            transform: rotateX(100deg) rotateY(180deg);
        }
        .demo1 .page-front{
            transform: translateZ(250px);
        }
        .demo1 .page-back{
            transform: translateZ(-250px);
        }
        .demo1 .page-left{
            transform: rotateY(90deg) translateZ(-250px);
        }
        .demo1 .page-right{
            transform: rotateY(90deg) translateZ(250px);
        }
        .demo1 .page-up{
            height: 500px;
            background-size: 500px 500px;
            transform: rotateX(90deg) translateZ(250px) rotateY(-180deg);
        }
        .demo1 .page-down{
            height: 500px;
            background-size: 500px 500px;
            transform: rotateX(90deg);
            cursor: pointer;
        }
        p{
            height: 50px;
            line-height: 50px;
            font-size: 48px;
            color: #f90;
            font-weight: 600;
            margin-top:-150px;
            text-align: center;
        }
    </style>
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?da613541f2704950dc2bfc647cfea191";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>
<body>
<section class="demo-loading">demo loading...</section>
<section class="demo-area">
    <div class="demo1">
        <div class="page page-front"></div>
        <div class="page page-back"></div>
        <div class="page page-left"></div>
        <div class="page page-right"></div>
        <div class="page page-up"></div>
        <div class="page page-down" onclick="javascript:window.location.href='./node_modules/gridmanager/demo/index.html';"></div>
    </div>
    <p>点击进入</p>
</section>
<script>
    var loadingStatusArray = [{
        loaded: false,
        url:'/assets/9144_7.jpg',
        queryText: '.page-front'
    },{
        loaded: false,
        url:'/assets/4209_2.jpg',
        queryText: '.page-back'
    },{
        loaded: false,
        url:'/assets/8321_8.jpg',
        queryText: '.page-left'
    },{
        loaded: false,
        url:'/assets/1147_6.jpg',
        queryText: '.page-right'
    },{
        loaded: false,
        url:'/assets/logo.500.500.png',
        queryText: '.page-up'
    },{
        loaded: false,
        url:'/assets/8495_1.jpg',
        queryText: '.page-down'
    }];
    loadingStatusArray.forEach(function(item){
        createImg(item);
    });
    function createImg(obj) {
        var frontImg = new Image();
        frontImg.src = obj.url;
        frontImg.onload = function(){
            obj.loaded = true;
            document.querySelector(obj.queryText).style.backgroundImage = 'url('+obj.url+')';
            document.querySelector(obj.queryText).style.color = '#f00010';
            showDemo();
        };
    }

    function showDemo(){
        var isOk = loadingStatusArray.every(function(item){
           return item.loaded;
        });
        if(isOk){
            document.querySelector('.demo-loading').style.display = 'none';
            document.querySelector('.demo-area').style.display = 'block';
        }
    }
</script>
</body>
</html>
